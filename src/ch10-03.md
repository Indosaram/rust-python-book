## Result ì—´ê±°í˜•

`Result` ì—´ê±°í˜•ì€ `Option` ì—´ê±°í˜•ê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ, `Option` ì—´ê±°í˜•ì€ `Some`ê³¼ `None`ë§Œì„ ê°€ì§€ê³  ìˆì§€ë§Œ, `Result` ì—´ê±°í˜•ì€ `Ok`ì™€ `Err`ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

```rust
use std::fmt::Error;

fn give_ok_or_err(bool: bool) -> Result<String, Error> {
    if bool {
        Ok(String::from("ğŸ’–"))
    } else {
        Err(Error)
    }
}

fn main() {
    for bool in [true, false].iter() {
        let result = give_ok_or_err(*bool);
        match result {
            Ok(value) => println!("value: {}", value),
            Err(e) => println!("error: {}", e),
        }
    }
}

```





## Unwrap...





### unwrap

```rust
use std::fmt::Error;

fn give_ok_or_err(bool: bool) -> Result<String, Error> {
    if bool {
        Ok(String::from("ğŸ’–"))
    } else {
        Err(Error)
    }
}

fn main() {
    let result = give_ok_or_err(false).unwrap();
    println!("{}", result);
}

```





### unwrap_or


`unwrap_or`ëŠ” `Result<T, E>`ë¥¼ `T`ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ê²°ê³¼ê°€ `Ok(v)`ì´ë©´ `v`ë¥¼ ë°˜í™˜í•˜ê³ , `Err(e)`ì´ë©´ ì¸ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.


```rust
use std::fmt::Error;

fn give_ok_or_err(bool: bool) -> Result<String, Error> {
    if bool {
        Ok(String::from("ğŸ’–"))
    } else {
        Err(Error)
    }
}

fn main() {
    let result = give_ok_or_err(false).unwrap_or(String::from("ğŸ’”"));
    println!("{}", result);
}

```





## ok_or...

`ok_or`ì™€ `ok_or_else`ëŠ” Option<T>ë¥¼ Result<T, E>ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.

### ok_or

`Option<T>`ë¥¼ `Result<T, E>`ë¡œ ë³€í™˜í•˜ì—¬ ì¼ë¶€(`v`)ë¥¼ `Ok(v)`ë¡œ, ì—†ìŒ(`None`)ì„ `Err(err)`ë¡œ ë§¤í•‘í•©ë‹ˆë‹¤.

`ok_orì—` ì „ë‹¬ëœ ì¸ìˆ˜ëŠ” ì¦‰ì‹œ í‰ê°€ë˜ë©°, í•¨ìˆ˜ í˜¸ì¶œì˜ ê²°ê³¼ë¥¼ ì „ë‹¬í•˜ëŠ” ê²½ìš° ëŠë¦¬ê²Œ í‰ê°€ë˜ëŠ” `ok_or_else`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.



```rust
fn main() {
    let x = Some("foo");
    assert_eq!(x.ok_or(0), Ok("foo"));

    let x: Option<&str> = None;
    assert_eq!(x.ok_or(0), Err(0));
}

```



### ok_or_else



`Option<T>`ë¥¼ `Result`<T, E>`ë¡œ ë³€í™˜í•˜ì—¬ ì¼ë¶€(v)ë¥¼ Ok(v)ë¡œ, ì—†ìŒì„ Err(err())ë¡œ ë§¤í•‘í•©ë‹ˆë‹¤.

```rust
fn main() {
    let x = Some("foo");
    assert_eq!(x.ok_or_else(|| 0), Ok("foo"));

    let x: Option<&str> = None;
    assert_eq!(x.ok_or_else(|| 0), Err(0));
}

```





## ?

ê²°ê³¼ê°€ `Ok` ì´ ì•„ë‹Œ ê²½ìš° ì¦‰ì‹œ í•¨ìˆ˜ë¥¼ ì¢…ë£Œí•˜ê³  `Err`ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

```rust
use std::fmt::Error;

fn give_ok_or_err(bool: bool) -> Result<String, Error> {
    if bool {
        Ok(String::from("ğŸ’–"))
    } else {
        Err(Error)
    }
}

fn question_mark(bool: bool) -> Result<String, Error> {
    let result = give_ok_or_err(bool)?;
    Ok(result)
}

fn main() {
    let result = question_mark(true);
    println!("{:?}", result);
    let result = question_mark(false);
    println!("{:?}", result);
}

```





## ì»¤ìŠ¤í…€ ì˜ˆì™¸ ì •ì˜í•˜ê¸°



```python
import os


def get_content():
    filepath = os.path.join(os.path.pardir, "test.txt")
    with open(filepath, "r") as f:
        return f.read()


class CustomError(Exception):
    pass


if __name__ == '__main__':
    try:
        with open("hello.txt", "r") as file:
            file.read()
    except FileNotFoundError as exc:
        print(exc)
    except:
        print("Unexpected error")

    try:
        content = get_content()
    except:
        raise CustomError
    print(content)

```







```rust,ignore
use std::fmt;
use std::fs::File;
use std::io::{Error, ErrorKind, Read};
use std::path::Path;

fn get_content() -> Result<String, Error> {
    let mut content = String::new();
    let filepath = Path::new(std::env::current_dir().unwrap().parent().unwrap()).join("test.txt");
    File::open(filepath)?.read_to_string(&mut content)?;
    Ok(content)
}

#[derive(Debug, Clone)]
struct CustomError;

impl fmt::Display for CustomError {
    fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {
        write!(f, "File not found!")
    }
}

fn main() {
    let file = File::open("hello.txt");
    match file {
        Ok(file) => println!("{:?}", file),
        Err(error) => match error.kind() {
            ErrorKind::NotFound => println!("{:?}", error),
            _ => println!("Unexpected error"),
        },
    }

    let content = get_content().unwrap_or_else(|_| {
        panic!("{}", CustomError);
    });
    println!("{}", content);
}

```



