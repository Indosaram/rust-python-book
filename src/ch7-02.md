## íŠ¸ë ˆì´íŠ¸(trait)

### íŠ¸ë ˆì´íŠ¸ë¡œ ë©”ì†Œë“œ ê³µìœ í•˜ê¸°

íŒŒì´ì¬ì€ í´ëž˜ìŠ¤ë¥¼ ìƒì†í•´ ê³µí†µëœ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆì§€ë§Œ, ëŸ¬ìŠ¤íŠ¸ëŠ” êµ¬ì¡°ì²´ì˜ ìƒì†ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ë¨¼ì € íŒŒì´ì¬ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ `Person` ì„ ìƒì†í•˜ëŠ” ìƒˆë¡œìš´ í´ëž˜ìŠ¤ `Student` ë¥¼ ì„ ì–¸í•©ë‹ˆë‹¤.

```python
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
        self.alive = True

    def say_hello(self):
        print("Hello, Rustacean!")

    def get_older(self, year):
        self.age += year


class Student(Person):
    def __init__(self, name, age, major):
        super().__init__(name, age)
        self.major = major

    def say_hello(self):
        print(f"Hello, I am {self.name} and I am studying {self.major}")

```

`Student` í´ëž˜ìŠ¤ëŠ” ìƒˆë¡œìš´ í”„ë¡œí¼í‹° `major` ë¥¼ ê°€ì§€ê³  ìžˆê³ , `Person` ì˜ `say_hello` ë©”ì†Œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ê³  ìžˆìŠµë‹ˆë‹¤.



RustëŠ” í•˜ë‚˜ì˜ structë¥¼ ìƒì†í•˜ëŠ” ë°©ë²•ì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¦‰ í•„ë“œì™€ ë©”ì†Œë“œë¥¼ ë‹¤ë¥¸ structì— ì „ë‹¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì„œë¡œ ë‹¤ë¥¸ struct íƒ€ìž…ë“¤ì´ ë©”ì†Œë“œë¥¼ ê³µìœ í•  ìˆ˜ ìžˆëŠ” í•˜ë‚˜ì˜ ì†ì„±ì„ ì •ì˜í•  ìˆ˜ ìžˆëŠ”ë°, ë°”ë¡œ traitìž…ë‹ˆë‹¤. ëŸ¬ìŠ¤íŠ¸ì—ì„œëŠ” êµ¬ì¡°ì²´ì—ì„œ ê³µìœ í•˜ëŠ” ë©”ì†Œë“œë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ íŠ¸ë ˆì´íŠ¸ë¥¼ ë¨¼ì € ì„ ì–¸í•´ì•¼ í•©ë‹ˆë‹¤. íŠ¸ë ˆì´íŠ¸ì—ì„œëŠ” ê³µìœ í•  ë©”ì†Œë“œì˜ ì›í˜•ì„ ì„ ì–¸í•©ë‹ˆë‹¤.

```rust,ignore
trait Greet {
    fn say_hello(&self) {}
}
```

ì´ë ‡ê²Œ ì„ ì–¸í•˜ë©´, `say_hello`ëŠ” ì•„ë¬´ê²ƒë„ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ” ë¹ˆ í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì—, ì‹¤ì œ ë‚´ìš©ì„ ê° êµ¬ì¡°ì²´ì˜ ë©”ì†Œë“œì—ì„œ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤. í˜¹ì€ `say_hello`ì˜ ê¸°ë³¸ êµ¬í˜„í˜•ì„ íŠ¸ë ˆì´íŠ¸ë¥¼ ì„ ì–¸í•  ë•Œ ì •ì˜í•  ìˆ˜ë„ ìžˆìŠµë‹ˆë‹¤.

ì´ì œ íŒŒì´ì¬ê³¼ ë™ì¼í•˜ê²Œ ëŸ¬ìŠ¤íŠ¸ ì½”ë“œë¥¼ ìž‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```rust,ignore
struct Person {
    name: String,
    age: i32,
    alive: bool,
}

impl Person {
    fn new(name: &str, age: i32) -> Person {
        Person {
            name: String::from(name),
            age: age,
            alive: true
        }
    }

    fn get_older(&mut self, year: i32) {
        self.age += year;
    }
}

impl Greet for Person {}


struct Student {
    name: String,
    age: i32,
    alive: bool,
    major: String,
}

impl Student {
    fn new(name: &str, age: i32, major: &str) -> Student {
        Student {
            name: String::from(name),
            age: age,
            alive: true,
            major: String::from(major),
        }
    }
}

impl Greet for Student {
    fn say_hello(&self) {
        println!("Hello, I am {} and I am studying {}", self.name, self.major)
    }
}
```

ì´ì œ ë©”ì¸ í•¨ìˆ˜ì—ì„œ `Person`ê³¼ `Student` êµ¬ì¡°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê³  `say_hello` ë©”ì†Œë“œë¥¼ ê°ê° í˜¸ì¶œí•´ ë³´ê² ìŠµë‹ˆë‹¤.

```rust
fn main() {
    let mut person = Person::new("John", 20);
    person.say_hello(); // ðŸ«¢
    person.get_older(1);
    println!("{} is now {} years old", person.name, person.age);

    let student = Student::new("Jane", 20, "Computer Science");
    student.say_hello();
}

```

ì‹¤í–‰ ê²°ê³¼

```
John is now 21 years old
Hello, I am Jane and I am studying Computer Science
```

`person.say_hello()`ëŠ” `trait Greet`ì˜ ë©”ì†Œë“œë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì•„ë¬´ê²ƒë„ ì¶œë ¥ë˜ì§€ ì•ŠëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ë‹¤ì‹œ íŠ¸ë ˆì´íŠ¸ ì„ ì–¸ìœ¼ë¡œ ëŒì•„ê°€ë³´ë©´ `say_hello` í•¨ìˆ˜ëŠ” íŒŒë¼ë¯¸í„°ë¡œ `&self` ë¥¼ ë°›ê³  ìžˆì§€ë§Œ, íŠ¸ë ˆì´íŠ¸ì— ì •ì˜ë˜ëŠ” í•¨ìˆ˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë§Œì¼ ì—¬ê¸°ì„œ ë‹¤ìŒê³¼ ê°™ì´ í•¨ìˆ˜ì˜ ì›í˜•ì„ ìˆ˜ì •í•˜ê³  ì»´íŒŒì¼í•´ë³´ë©´ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.

```rust,ignore
trait Greet {
    fn say_hello(&self) {
        println!("Hello, Rustacean!");
    }
}
```



### íŒŒìƒ(Derive)

ì»´íŒŒì¼ëŸ¬ëŠ” `#[derive]` íŠ¸ë ˆì´íŠ¸ì„ í†µí•´ ì¼ë¶€ íŠ¹ì„±ì— ëŒ€í•œ ê¸°ë³¸ êµ¬í˜„ì„ ì œê³µí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ë³´ë‹¤ ë³µìž¡í•œ ë™ìž‘ì´ í•„ìš”í•œ ê²½ìš° ì´ëŸ¬í•œ íŠ¹ì„±ì€ ì§ì ‘ êµ¬í˜„í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ë‹¤ìŒì€ íŒŒìƒ ê°€ëŠ¥í•œ íŠ¸ë ˆì´íŠ¸ ëª©ë¡ìž…ë‹ˆë‹¤:

- ë¹„êµ: [`Eq`](https://doc.rust-lang.org/std/cmp/trait.Eq.html), [`PartialEq`](https://doc.rust-lang.org/std/cmp/trait.PartialEq.html), [`Ord`](https://doc.rust-lang.org/std/cmp/trait.Ord.html), [`PartialOrd`](https://doc.rust-lang.org/std/cmp/trait.PartialOrd.html).
- [`Clone`](https://doc.rust-lang.org/std/clone/trait.Clone.html), ë³µì‚¬ë³¸ì„ í†µí•´ `&T`ì—ì„œ `T`ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
- [`Copy`](https://doc.rust-lang.org/core/marker/trait.Copy.html), 'ì´ë™ ì‹œë§¨í‹±' ëŒ€ì‹  'ë³µì‚¬ ì‹œë§¨í‹±' íƒ€ìž…ì„ ì œê³µí•©ë‹ˆë‹¤.
- [`Hash`](https://doc.rust-lang.org/std/hash/trait.Hash.html), `&T`ì—ì„œ í•´ì‹œë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
- [`Default`](https://doc.rust-lang.org/std/default/trait.Default.html), ë°ì´í„° íƒ€ìž…ì˜ ë¹ˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
- `{:?}` í¬ë§¤í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°’ì˜ í˜•ì‹ì„ ì§€ì •í•˜ë ¤ë©´ [`Debug`](https://doc.rust-lang.org/std/fmt/trait.Debug.html).



```rust
struct Rectangle {
    width: u32,
    height: u32,
}

fn main() {
    let rect1 = Rectangle {
        width: 30,
        height: 50,
    };

    println!("rect1 is {:?}", rect1); // ðŸ¤¯
}

```



```
error[E0277]: `Rectangle` doesn't implement `Debug`
  --> src/main.rs:12:31
   |
12 |     println!("rect1 is {:?}", rect1); // ðŸ¤¯
   |                               ^^^^^ `Rectangle` cannot be formatted using `{:?}`
   |
   = help: the trait `Debug` is not implemented for `Rectangle`
   = note: add `#[derive(Debug)]` to `Rectangle` or manually `impl Debug for Rectangle`
```



```rust
#[derive(Debug)]
struct Rectangle {
    width: u32,
    height: u32,
}

fn main() {
    let rect1 = Rectangle {
        width: 30,
        height: 50,
    };

    println!("rect1 is {:?}", rect1);
}

```



